@tailwind base;
@tailwind components;
@tailwind utilities;

.moveable-origin {
    display: none !important;
}
.moveable-line.moveable-direction  {
    display: none !important;
}

/* Render loader animations */
@keyframes gradient-x {
    0%, 100% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
}

.animate-gradient-x {
    animation: gradient-x 2s ease infinite;
}
    
/* AI Loading animations */
@keyframes spin-slow {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}

.animate-spin-slow {
    animation: spin-slow 8s linear infinite;
}

@keyframes float {
    0%, 100% {
        transform: translateY(0px);
    }
    50% {
        transform: translateY(-10px);
    }
}

.animate-float {
    animation: float 3s ease-in-out infinite;
}

@keyframes shimmer {
    0% {
        background-position: -200% 0;
    }
    100% {
        background-position: 200% 0;
    }
}

.animate-shimmer {
    animation: shimmer 2s linear infinite;
    background-size: 200% 100%;
}

/* Progress bar shimmer animation */
@keyframes progress-shimmer {
    0% {
        transform: translateX(-100%);
    }
    100% {
        transform: translateX(200%);
    }
}

.animate-progress-shimmer {
    animation: progress-shimmer 1.5s ease-in-out infinite;
}

/* Zoom out the editor interface to fit better at 100% browser zoom - Desktop only */
@media (min-width: 1024px) {
    .editor-container {
        transform: scale(0.92);
        transform-origin: top left;
        width: calc(100vw / 0.92);
        height: calc(100vh / 0.92);
        display: flex;
        flex-direction: column;
        overflow: visible;
    }
}

/* Mobile editor container - no scaling, fixed height */
@media (max-width: 1023px) {
    .editor-container {
        width: 100vw;
        height: 100vh;
        height: 100dvh; /* Dynamic viewport height for mobile browsers */
        display: flex;
        flex-direction: column;
        overflow: hidden;
    }
    
    /* Ensure mobile layout doesn't overflow */
    html, body {
        overflow: hidden;
        overscroll-behavior: none;
        position: fixed;
        width: 100%;
        height: 100%;
    }
}

/* Ensure timeline is always visible and not cut off */
.editor-container > div:last-child {
    position: relative;
    z-index: 10;
}

/* Mobile sidebar drawer animations */
@keyframes slideInLeft {
    from {
        transform: translateX(-100%);
    }
    to {
        transform: translateX(0);
    }
}

@keyframes slideInRight {
    from {
        transform: translateX(100%);
    }
    to {
        transform: translateX(0);
    }
}

@keyframes slideOutLeft {
    from {
        transform: translateX(0);
    }
    to {
        transform: translateX(-100%);
    }
}

@keyframes slideOutRight {
    from {
        transform: translateX(0);
    }
    to {
        transform: translateX(100%);
    }
}

.animate-slide-in-left {
    animation: slideInLeft 0.3s ease-out forwards;
}

.animate-slide-in-right {
    animation: slideInRight 0.3s ease-out forwards;
}

.animate-slide-out-left {
    animation: slideOutLeft 0.3s ease-out forwards;
}

.animate-slide-out-right {
    animation: slideOutRight 0.3s ease-out forwards;
}

/* Mobile bottom sheet animation */
@keyframes slideUp {
    from {
        transform: translateY(100%);
    }
    to {
        transform: translateY(0);
    }
}

@keyframes slideDown {
    from {
        transform: translateY(0);
    }
    to {
        transform: translateY(100%);
    }
}

.animate-slide-up {
    animation: slideUp 0.3s ease-out forwards;
}

.animate-slide-down {
    animation: slideDown 0.3s ease-out forwards;
}

/* Mobile-specific utilities */
@layer utilities {
    .touch-pan-x {
        touch-action: pan-x;
    }
    .touch-pan-y {
        touch-action: pan-y;
    }
    .touch-manipulation {
        touch-action: manipulation;
    }
    .safe-bottom {
        padding-bottom: env(safe-area-inset-bottom, 0px);
    }
    .safe-top {
        padding-top: env(safe-area-inset-top, 0px);
    }
}

/* Hide scrollbar but allow scrolling */
.scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
    display: none;
}

/* Mobile overlay backdrop */
.mobile-overlay {
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
}

/* Prevent text selection on mobile for interactive elements */
.no-select {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    -webkit-touch-callout: none;
}

/* Custom scrollbar for timeline - thin on mobile */
.custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: rgba(100, 116, 139, 0.5) transparent;
}

.custom-scrollbar::-webkit-scrollbar {
    height: 4px;
}

.custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
    background-color: rgba(100, 116, 139, 0.5);
    border-radius: 2px;
}

/* Mobile-specific: smaller video player controls */
@media (max-width: 1023px) {
    /* Hide Remotion player controls on mobile - we use custom ones */
    .remotion-player-controls {
        display: none !important;
    }
}